<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1251px" preserveAspectRatio="none" style="width:1357px;height:1251px;background:#FFFFFF;" version="1.1" viewBox="0 0 1357 1251" width="1357px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="148" x="600.5" y="28.5352">Grid Select Sequence</text><rect fill="#FFFFFF" height="1076.0059" style="stroke:#181818;stroke-width:1.0;" width="10" x="191" y="150.2871"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="325.8398"/><rect fill="#FFFFFF" height="71.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="393.4609"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="530.7031"/><rect fill="#FFFFFF" height="32.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="601.3242"/><rect fill="#FFFFFF" height="32.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="860.498"/><rect fill="#FFFFFF" height="71.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="188.5977"/><rect fill="#FFFFFF" height="101.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="665.9453"/><rect fill="#FFFFFF" height="101.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="925.1191"/><rect fill="#FFFFFF" height="109.2764" style="stroke:#181818;stroke-width:1.0;" width="10" x="1066" y="1103.0166"/><rect fill="none" height="132.2422" style="stroke:#000000;stroke-width:1.5;" width="1061" x="10" y="165.2871"/><rect fill="none" height="132.2422" style="stroke:#000000;stroke-width:1.5;" width="827" x="10" y="370.1504"/><rect fill="none" height="245.1738" style="stroke:#000000;stroke-width:1.5;" width="1104" x="10" y="559.7031"/><rect fill="none" height="245.1738" style="stroke:#000000;stroke-width:1.5;" width="1104" x="10" y="818.877"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="62" x2="62" y1="118.9766" y2="1244.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="196" x2="196" y1="118.9766" y2="1244.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="534.5" x2="534.5" y1="118.9766" y2="1244.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="837" x2="837" y1="118.9766" y2="1244.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1070.5" x2="1070.5" y1="118.9766" y2="1244.293"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="20" y="116.0234">Turn Player</text><ellipse cx="62" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M62,58.9883 L62,85.9883 M49,66.9883 L75,66.9883 M62,85.9883 L49,100.9883 M62,85.9883 L75,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="138" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="145" y="108.0234">TicTacToeView</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="466.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="473.5" y="108.0234">GameGridContext</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="766" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="773" y="108.0234">GameStateContext</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="1000.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1007.5" y="108.0234">GameTurnContext</text><rect fill="#FFFFFF" height="1076.0059" style="stroke:#181818;stroke-width:1.0;" width="10" x="191" y="150.2871"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="325.8398"/><rect fill="#FFFFFF" height="71.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="393.4609"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="530.7031"/><rect fill="#FFFFFF" height="32.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="601.3242"/><rect fill="#FFFFFF" height="32.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="860.498"/><rect fill="#FFFFFF" height="71.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="188.5977"/><rect fill="#FFFFFF" height="101.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="665.9453"/><rect fill="#FFFFFF" height="101.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="925.1191"/><rect fill="#FFFFFF" height="109.2764" style="stroke:#181818;stroke-width:1.0;" width="10" x="1066" y="1103.0166"/><polygon fill="#181818" points="179,146.2871,189,150.2871,179,154.2871,183,150.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62" x2="185" y1="150.2871" y2="150.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="69" y="145.5449">selectGameGrid( )</text><path d="M10,165.2871 L77,165.2871 L77,172.5977 L67,182.5977 L10,182.5977 L10,165.2871 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="132.2422" style="stroke:#000000;stroke-width:1.5;" width="1061" x="10" y="165.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="25" y="178.8555">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="159" x="92" y="177.9219">[when game is not on game]</text><polygon fill="#181818" points="820,184.5977,830,188.5977,820,192.5977,824,188.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="826" y1="188.5977" y2="188.5977"/><line style="stroke:#181818;stroke-width:1.0;" x1="842" x2="884" y1="217.9082" y2="217.9082"/><line style="stroke:#181818;stroke-width:1.0;" x1="884" x2="884" y1="217.9082" y2="230.9082"/><line style="stroke:#181818;stroke-width:1.0;" x1="843" x2="884" y1="230.9082" y2="230.9082"/><polygon fill="#181818" points="853,226.9082,843,230.9082,853,234.9082,849,230.9082" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="849" y="213.166">check gameMode !== 'ON_GAME'</text><polygon fill="#181818" points="212,256.2188,202,260.2188,212,264.2188,208,260.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="836" y1="260.2188" y2="260.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="218" y="255.4766">boolean</text><polygon fill="#181818" points="73,285.5293,63,289.5293,73,293.5293,69,289.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67" x2="190" y1="289.5293" y2="289.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="79" y="284.7871">early return</text><polygon fill="#181818" points="518,321.8398,528,325.8398,518,329.8398,522,325.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="524" y1="325.8398" y2="325.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="208" y="321.0977">getGameGrid(row, col)</text><polygon fill="#181818" points="212,351.1504,202,355.1504,212,359.1504,208,355.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="534" y1="355.1504" y2="355.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="218" y="350.4082">selectedGameGrid</text><path d="M10,370.1504 L77,370.1504 L77,377.4609 L67,387.4609 L10,387.4609 L10,370.1504 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="132.2422" style="stroke:#000000;stroke-width:1.5;" width="827" x="10" y="370.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="25" y="383.7188">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="92" y="382.7852">[when selected grid is already occupied]</text><polygon fill="#181818" points="518,389.4609,528,393.4609,518,397.4609,522,393.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="524" y1="393.4609" y2="393.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="540" x2="582" y1="422.7715" y2="422.7715"/><line style="stroke:#181818;stroke-width:1.0;" x1="582" x2="582" y1="422.7715" y2="435.7715"/><line style="stroke:#181818;stroke-width:1.0;" x1="541" x2="582" y1="435.7715" y2="435.7715"/><polygon fill="#181818" points="551,431.7715,541,435.7715,551,439.7715,547,435.7715" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="547" y="418.0293">check selectedGameGrid.occupied === true</text><polygon fill="#181818" points="212,461.082,202,465.082,212,469.082,208,465.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="534" y1="465.082" y2="465.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="218" y="460.3398">boolean</text><polygon fill="#181818" points="73,490.3926,63,494.3926,73,498.3926,69,494.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67" x2="190" y1="494.3926" y2="494.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="79" y="489.6504">early return</text><polygon fill="#181818" points="518,526.7031,528,530.7031,518,534.7031,522,530.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="524" y1="530.7031" y2="530.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="208" y="525.9609">setGameGrid(row, col, gamePlayerKey, gameTurn)</text><polygon fill="#181818" points="212,540.7031,202,544.7031,212,548.7031,208,544.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="534" y1="544.7031" y2="544.7031"/><path d="M10,559.7031 L77,559.7031 L77,567.0137 L67,577.0137 L10,577.0137 L10,559.7031 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="245.1738" style="stroke:#000000;stroke-width:1.5;" width="1104" x="10" y="559.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="25" y="573.2715">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="92" y="572.3379">[when player wins]</text><polygon fill="#181818" points="518,597.3242,528,601.3242,518,605.3242,522,601.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="524" y1="601.3242" y2="601.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="208" y="596.582">checkWin(gamePlayerKey)</text><path d="M545,582.0137 L545,607.0137 L997,607.0137 L997,592.0137 L987,582.0137 L545,582.0137 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M987,582.0137 L987,592.0137 L997,592.0137 L987,582.0137 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="431" x="551" y="599.582">Three same marks are placed in horizontal, vertical, or diagonal row.</text><polygon fill="#181818" points="212,629.6348,202,633.6348,212,637.6348,208,633.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="534" y1="633.6348" y2="633.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="218" y="628.8926">boolean</text><polygon fill="#181818" points="820,661.9453,830,665.9453,820,669.9453,824,665.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="826" y1="665.9453" y2="665.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="208" y="661.2031">setGameEndWithWin(gamePlayerKey)</text><path d="M847,646.6348 L847,671.6348 L1109,671.6348 L1109,656.6348 L1099,646.6348 L847,646.6348 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1099,646.6348 L1099,656.6348 L1109,656.6348 L1099,646.6348 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="853" y="664.2031">gameMode: ON_GAME -&gt; GAME_OVER</text><line style="stroke:#181818;stroke-width:1.0;" x1="842" x2="884" y1="698.2559" y2="698.2559"/><line style="stroke:#181818;stroke-width:1.0;" x1="884" x2="884" y1="698.2559" y2="711.2559"/><line style="stroke:#181818;stroke-width:1.0;" x1="843" x2="884" y1="711.2559" y2="711.2559"/><polygon fill="#181818" points="853,707.2559,843,711.2559,853,715.2559,849,711.2559" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="849" y="693.5137">setGameModeToGameOver( )</text><line style="stroke:#181818;stroke-width:1.0;" x1="842" x2="884" y1="740.5664" y2="740.5664"/><line style="stroke:#181818;stroke-width:1.0;" x1="884" x2="884" y1="740.5664" y2="753.5664"/><line style="stroke:#181818;stroke-width:1.0;" x1="843" x2="884" y1="753.5664" y2="753.5664"/><polygon fill="#181818" points="853,749.5664,843,753.5664,853,757.5664,849,753.5664" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="849" y="735.8242">setGameResult(PLAYER_WIN)</text><polygon fill="#181818" points="212,763.5664,202,767.5664,212,771.5664,208,767.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="836" y1="767.5664" y2="767.5664"/><polygon fill="#181818" points="73,792.877,63,796.877,73,800.877,69,796.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67" x2="190" y1="796.877" y2="796.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="79" y="792.1348">early return</text><path d="M10,818.877 L77,818.877 L77,826.1875 L67,836.1875 L10,836.1875 L10,818.877 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="245.1738" style="stroke:#000000;stroke-width:1.5;" width="1104" x="10" y="818.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="25" y="832.4453">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="92" y="831.5117">[when game is draw]</text><polygon fill="#181818" points="518,856.498,528,860.498,518,864.498,522,860.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="524" y1="860.498" y2="860.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="208" y="855.7559">checkDraw(gamePlayerKey)</text><path d="M545,841.1875 L545,866.1875 L781,866.1875 L781,851.1875 L771,841.1875 L545,841.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M771,841.1875 L771,851.1875 L781,851.1875 L771,841.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="551" y="858.7559">All grids are occupied with marks.</text><polygon fill="#181818" points="212,888.8086,202,892.8086,212,896.8086,208,892.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="534" y1="892.8086" y2="892.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="218" y="888.0664">boolean</text><polygon fill="#181818" points="820,921.1191,830,925.1191,820,929.1191,824,925.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="826" y1="925.1191" y2="925.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="208" y="920.377">setGameEndWithDraw( )</text><path d="M847,905.8086 L847,930.8086 L1109,930.8086 L1109,915.8086 L1099,905.8086 L847,905.8086 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1099,905.8086 L1099,915.8086 L1109,915.8086 L1099,905.8086 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="853" y="923.377">gameMode: ON_GAME -&gt; GAME_OVER</text><line style="stroke:#181818;stroke-width:1.0;" x1="842" x2="884" y1="957.4297" y2="957.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="884" x2="884" y1="957.4297" y2="970.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="843" x2="884" y1="970.4297" y2="970.4297"/><polygon fill="#181818" points="853,966.4297,843,970.4297,853,974.4297,849,970.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="849" y="952.6875">setGameModeToGameOver( )</text><line style="stroke:#181818;stroke-width:1.0;" x1="842" x2="884" y1="999.7402" y2="999.7402"/><line style="stroke:#181818;stroke-width:1.0;" x1="884" x2="884" y1="999.7402" y2="1012.7402"/><line style="stroke:#181818;stroke-width:1.0;" x1="843" x2="884" y1="1012.7402" y2="1012.7402"/><polygon fill="#181818" points="853,1008.7402,843,1012.7402,853,1016.7402,849,1012.7402" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="849" y="994.998">setGameResult(DRAW)</text><polygon fill="#181818" points="212,1022.7402,202,1026.7402,212,1030.7402,208,1026.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="836" y1="1026.7402" y2="1026.7402"/><polygon fill="#181818" points="73,1052.0508,63,1056.0508,73,1060.0508,69,1056.0508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67" x2="190" y1="1056.0508" y2="1056.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="79" y="1051.3086">early return</text><polygon fill="#181818" points="1054,1099.0166,1064,1103.0166,1054,1107.0166,1058,1103.0166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="1060" y1="1103.0166" y2="1103.0166"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="208" y="1098.2744">advanceGameTurn( )</text><path d="M1081,1076.0508 L1081,1116.0508 L1350,1116.0508 L1350,1086.0508 L1340,1076.0508 L1081,1076.0508 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1340,1076.0508 L1340,1086.0508 L1350,1086.0508 L1340,1076.0508 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1087" y="1093.6191">Go to next turn, and change turn player</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1087" y="1108.9297">when game does not end.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1076" x2="1118" y1="1142.9824" y2="1142.9824"/><line style="stroke:#181818;stroke-width:1.0;" x1="1118" x2="1118" y1="1142.9824" y2="1155.9824"/><line style="stroke:#181818;stroke-width:1.0;" x1="1077" x2="1118" y1="1155.9824" y2="1155.9824"/><polygon fill="#181818" points="1087,1151.9824,1077,1155.9824,1087,1159.9824,1083,1155.9824" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1083" y="1138.2402">increaseGameTurn( )</text><line style="stroke:#181818;stroke-width:1.0;" x1="1076" x2="1118" y1="1185.293" y2="1185.293"/><line style="stroke:#181818;stroke-width:1.0;" x1="1118" x2="1118" y1="1185.293" y2="1198.293"/><line style="stroke:#181818;stroke-width:1.0;" x1="1077" x2="1118" y1="1198.293" y2="1198.293"/><polygon fill="#181818" points="1087,1194.293,1077,1198.293,1087,1202.293,1083,1198.293" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1083" y="1180.5508">toggleGamePlayerKeyOnTurn( )</text><polygon fill="#181818" points="212,1208.293,202,1212.293,212,1216.293,208,1212.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="1070" y1="1212.293" y2="1212.293"/><polygon fill="#181818" points="73,1222.293,63,1226.293,73,1230.293,69,1226.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67" x2="195" y1="1226.293" y2="1226.293"/><!--MD5=[b543832561070d0606a54b883a0e2fb1]
@startuml
title Grid Select Sequence
hide footbox

Actor "Turn Player" as Player
participant "TicTacToeView" as TicTacToeView
participant "GameGridContext" as GameGrid
participant "GameStateContext" as GameState
participant "GameTurnContext" as GameTurn

Player -> TicTacToeView: selectGameGrid( )
activate TicTacToeView

opt when game is not on game
    TicTacToeView -> GameState:
    activate GameState
    GameState -> GameState: check gameMode !== 'ON_GAME'
    GameState - -> TicTacToeView: boolean
    deactivate GameState
    TicTacToeView - -> Player: early return
end

TicTacToeView -> GameGrid: getGameGrid(row, col)
activate GameGrid
GameGrid - -> TicTacToeView: selectedGameGrid
deactivate GameGrid

opt when selected grid is already occupied
    TicTacToeView -> GameGrid
    activate GameGrid
    GameGrid -> GameGrid: check selectedGameGrid.occupied === true
    GameGrid - -> TicTacToeView:boolean
    deactivate GameGrid
    TicTacToeView - -> Player: early return
end

TicTacToeView -> GameGrid: setGameGrid(row, col, gamePlayerKey, gameTurn)
activate GameGrid
GameGrid - -> TicTacToeView:
deactivate GameGrid

opt when player wins
    TicTacToeView -> GameGrid: checkWin(gamePlayerKey)
    note right
    	 Three same marks are placed in horizontal, vertical, or diagonal row.
    end note
    activate GameGrid
    GameGrid - -> TicTacToeView: boolean
    deactivate GameGrid

    TicTacToeView -> GameState: setGameEndWithWin(gamePlayerKey)
    note right
    	 gameMode: ON_GAME -> GAME_OVER
    end note
    activate GameState
    GameState -> GameState: setGameModeToGameOver( )
    GameState -> GameState: setGameResult(PLAYER_WIN)
    GameState - -> TicTacToeView
    deactivate GameState
    TicTacToeView - -> Player: early return
end

opt when game is draw
    TicTacToeView -> GameGrid: checkDraw(gamePlayerKey)
    note right
    	 All grids are occupied with marks.
    end note
    activate GameGrid
    GameGrid - -> TicTacToeView: boolean
    deactivate GameGrid

    TicTacToeView -> GameState: setGameEndWithDraw( )
    note right
    	 gameMode: ON_GAME -> GAME_OVER
    end note
    activate GameState
    GameState -> GameState: setGameModeToGameOver( )
    GameState -> GameState: setGameResult(DRAW)
    GameState - -> TicTacToeView
    deactivate GameState
    TicTacToeView - -> Player: early return
end

TicTacToeView -> GameTurn: advanceGameTurn( )
note right
     Go to next turn, and change turn player
     when game does not end.
end note
activate GameTurn
GameTurn -> GameTurn: increaseGameTurn( )
GameTurn -> GameTurn: toggleGamePlayerKeyOnTurn( )
GameTurn - -> TicTacToeView
deactivate GameTurn

TicTacToeView - -> Player: 
deactivate TicTacToeView

@enduml

PlantUML version 1.2022.13(Sat Nov 19 22:22:17 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>